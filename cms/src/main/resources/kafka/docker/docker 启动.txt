docker run -d --name kafka \
 -p 9103:9092
 --link zookeeper:zookeeper \
 --env KAFKA_BROKER_ID=100 \
 --env HOST_IP=192.168.109.129 \
 --env KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181 \
 --env KAFKA_ADVERTISED_HOST_NAME=192.168.109.129 \
 --env KAFKA_ADVERTISED_PORT=9103 \
 -v /etc/localtime:/etc/localtime \
 kafka:2.0


 docker 集群安装

    docker run -d --name kafka -p 9092:9092 -e KAFKA_BROKER_ID=0 \
    -e KAFKA_ZOOKEEPER_CONNECT=10.0.101.162:2181,10.0.101.162:2182,10.0.101.162:2183 \
    -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://10.0.101.162:9092 \
    -e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092 \
    -t wurstmeister/kafka

    docker run -d --name kafka1 -p 9093:9093 -e KAFKA_BROKER_ID=1 \
    -e KAFKA_ZOOKEEPER_CONNECT=10.0.101.162:2181,10.0.101.162:2182,10.0.101.162:2183 \
    -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://10.0.101.162:9093 \
    -e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9093 \
    -t wurstmeister/kafka

    docker run -d --name kafka2 -p 9094:9094 -e KAFKA_BROKER_ID=2 \
    -e KAFKA_ZOOKEEPER_CONNECT=10.0.101.162:2181,10.0.101.162:2182,10.0.101.162:2183
    -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://10.0.101.162:9094 \
    -e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9094 \
    -t wurstmeister/kafka