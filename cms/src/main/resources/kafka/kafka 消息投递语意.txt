1、消息投递语义

　　最多一次：可能丢失消息但不会重复投递

　　最少一次：不会丢失消息但可能重复投递

　　精确一次：只会投递一次

2、kafka给每个生产者指定一个ID，每个发布的消息一个序列号，这样的话即使生产者重复发送消息，在提交日志中也不会有重复记录

3、站在消费者的角度，先保存位置后处理消息就是“最多一次”；先处理消息后保存位置就是“最少一次”；至于“精确一次”，可以使用事务生产者来实现，即在同一个事务中接收并处理消息，将位置（offset）保存到另一个topic中。只要事务成功了，皆大欢喜，若事务失败，则位置恢复。

https://www.cnblogs.com/cjsblog/p/8441365.html