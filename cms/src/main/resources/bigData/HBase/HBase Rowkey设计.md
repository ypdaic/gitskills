~~RowKey设计

    一条数据的唯一标识就是rowkey，那么这条数据存储于哪个分区，取决于rowkey处于哪个一个预分区的区间内，
    设计rowkey的主要目的 ，就是让数据均匀的分布于所有的region中，在一定程度上防止数据倾斜。
    接下来我们就谈一谈rowkey常用的设计方案。避免单调递增，不然会一直分区

1.生成随机数、hash、散列值

    比如：
    原本rowKey为1001的，SHA1后变成：dd01903921ea24941c26a48f2cec24e0bb0e8cc7
    原本rowKey为3001的，SHA1后变成：49042c54de64a1e9bf0b33e00245660ef92dc7bd
    原本rowKey为5001的，SHA1后变成：7b61dec07e02c188790670af43e717f0f46e8913
    在做此操作之前，一般我们会选择从数据集中抽取样本，来决定什么样的rowKey来Hash后作为每个分区的临界值。

2.字符串反转

    20170524000001转成10000042507102
    20170524000002转成20000042507102

    这样也可以在一定程度上散列逐步put进来的数据。

3.字符串拼接
    
    20170524000001_a12e
    20170524000001_93i7

案例：
    
    统计网络的每分钟的访问次数
    
    mmHHddMMyyyy_user_id

    yyyyMMddHHmm.hashCode() % 5_yyyyMMddHHmmssSSS_user_id

    -无穷,1
    1,2
    2,3
    4,+无穷

    查询 202003211203的访问次数
    
    scan("202003211203".hashCode() % 5_202003211203, "202003211203".hashCode() % 5_202003211203|)

    

     
    