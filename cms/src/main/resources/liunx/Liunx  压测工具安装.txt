ab是apache自带的压力测试工具。ab非常实用，它不仅可以对apache服务器进行网站访问压力测试，也可以对或其它类型的服务器进行压力测试

1：安装
yum -y install httpd-tools

2：使用

使用时注意一点，找到ab的位置在执行
which ab

ab命令最基本的参数是-n和-c：

-n 执行的请求数量
-c 并发请求个数

ab -c 5 -n 20 -p empty.txt http:192.168.111.1

-p empty.txt 请求的内容

[root@localhost bin]# ab -n10 -c3 https://www.baidu.com/
 This is ApacheBench, Version 2.3 <$Revision: 1430300 $>
 Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/
 Licensed to The Apache Software Foundation, http://www.apache.org/
 Benchmarking www.baidu.com (be patient).....done
  Server Software:        BWS/1.1         #服务器软件
  Server Hostname:        www.baidu.com   #域名
Server Port:            443             #请求端口号
SSL/TLS Protocol:       TLSv1.2,ECDHE-RSA-AES128-GCM-SHA256,2048,128
Document Path:          /                #文件路径
Document Length:        227 bytes        #页面字节数
Concurrency Level:      3                #请求的并发数
Time taken for tests:   0.091 seconds    #总访问时间
Complete requests:      10               #请求成功数量
Failed requests:        0                #请求失败数量
Write errors:           0
Total transferred:      8930 bytes       #请求总数据大小（包括header头信息）
HTML transferred:       2270 bytes       #html页面实际总字节数
Requests per second:    109.89 [#/sec] (mean)  #每秒多少请求，这个是非常重要的参数数值，服务器的吞吐量
Time per request:       27.299 [ms] (mean)        #用户平均请求等待时间
Time per request:       9.100 [ms] (mean, across all concurrent requests) #服务器平均处理时间，也就是服务器吞吐量的倒数
Transfer rate:          95.84 [Kbytes/sec] received     #每秒获取的数据长度
Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:       14   16   1.2     16      17
Processing:     5    6   0.4      6       6
Waiting:        5    6   0.4      6       6
Total:         19   22   1.5     22      24
Percentage of the requests served within a certain time (ms)
  50%     22   #50%用户请求在22ms内返回
  66%     23
  75%     23
  80%     23
  90%     24
  95%     24
  98%     24
  99%     24   #%99用户请求在24ms内返回
 100%     24 (longest request)



 ab性能指标
 在进行性能测试过程中有几个指标比较重要：

 1、吞吐率（Requests per second）

 服务器并发处理能力的量化描述，单位是reqs/s，指的是在某个并发用户数下单位时间内处理的请求数。某个并发用户数下单位时间内能处理的最大请求数，称之为最大吞吐率。

 记住：吞吐率是基于并发用户数的。这句话代表了两个含义：

 a、吞吐率和并发用户数相关

 b、不同的并发用户数下，吞吐率一般是不同的

 计算公式：总请求数/处理完成这些请求数所花费的时间，即

 Request per second=Complete requests/Time taken for tests

 必须要说明的是，这个数值表示当前机器的整体性能，值越大越好。

 2、并发连接数（The number of concurrent connections）

 并发连接数指的是某个时刻服务器所接受的请求数目，简单的讲，就是一个会话。

 3、并发用户数（Concurrency Level）

 要注意区分这个概念和并发连接数之间的区别，一个用户可能同时会产生多个会话，也即连接数。在HTTP/1.1下，IE7支持两个并发连接，IE8支持6个并发连接，FireFox3支持4个并发连接，所以相应的，我们的并发用户数就得除以这个基数。

 4、用户平均请求等待时间（Time per request）

 计算公式：处理完成所有请求数所花费的时间/（总请求数/并发用户数），即：

 Time per request=Time taken for tests/（Complete requests/Concurrency Level）

 5、服务器平均请求等待时间（Time per request:across all concurrent requests）

 计算公式：处理完成所有请求数所花费的时间/总请求数，即：

 Time taken for/testsComplete requests

 可以看到，它是吞吐率的倒数。

 同时，它也等于用户平均请求等待时间/并发用户数，即

 Time per request/Concurrency Level

