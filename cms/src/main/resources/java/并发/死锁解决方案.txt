1. 互斥，共享资源 X 和 Y 只能被一个线程占用;
2. 占有且等待，线程 T1 已经取得共享资源 X，在等待共享资源 Y 的时候，不释放共享资源 X;
3. 不可抢占，其他线程不能强行抢占线程 T1 占有的资源;
4. 循环等待，线程 T1 等待线程 T2 占有的资源，线程 T2 等待线程 T1 占有的资源，就是循环等 待。

上述4个条件就是死锁发生的原因，要解决死锁就需要破坏其中任意一个条件

    1：申请全部的资源，申请不到就在where循环继续申请
    2：请求锁的时候，尝试着去申请，如果申请不到就接着申请，而不是阻塞这去等待这个锁
    3：无法满足，共享读锁除外
    4：调整加锁的顺序，让加锁的资源都按照同一个顺序进行加锁